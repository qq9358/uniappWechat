{"version":3,"sources":["webpack:///C:/Code/Self/HBuilder/wechatGit/main.js","webpack:///C:/Code/Self/HBuilder/wechatGit/pages/index/index.vue?feca","webpack:///C:/Code/Self/HBuilder/wechatGit/pages/index/index.vue?05dc","webpack:///C:/Code/Self/HBuilder/wechatGit/pages/index/index.vue?9696","webpack:///C:/Code/Self/HBuilder/wechatGit/pages/index/index.vue?6dc8","webpack:///C:/Code/Self/HBuilder/wechatGit/pages/index/index.vue","webpack:///C:/Code/Self/HBuilder/wechatGit/pages/index/index.vue?cb1d","webpack:///C:/Code/Self/HBuilder/wechatGit/pages/index/index.vue?6b29"],"names":["createPage","Page","today","tomorrow","addDays","mixins","mobileMixin","props","publicSaleFlag","type","Boolean","String","default","data","href","swiper","indicatorDots","autoplay","interval","duration","introductionTitle","categorys","id","name","items","price","images","scenicImage1","scenicImage2","scenic","ticketTypes","selectedTicketType","origin","shareImgUrl","groundId","showDescription","screenWidth","computed","swipeHeight","onLoad","memberService","loginFromMiniAsync","uni","getSystemInfo","systemInfo","settingService","getSettingsFromWeChatAsync","getTicketTypeTask","ticketTypeService","getTicketTypesForWeiXinSaleAsync","then","ticketType","travelDateText","getTravelDateText","refundText","getRefundText","getScenicTask","scenicService","getScenicAsync","photoList","length","map","p","url","openTime","closeTime","toDateString","now","isBefore","openText","isBetween","shareUrl","Promise","all","pageLoaded","methods","onIntroduction","$refs","introductionPopup","open","onBook","navigateTo","onBuy","shouldReadDescription","onShowDescription","startTravelDate","isSameOrBefore","format","allowRefund","refundLimited","getRefundColor"],"mappings":"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","file":"pages/index/index.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/index/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=0bf8410c&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../迅雷下载/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"Code/Self/HBuilder/wechatGit/pages/index/index.vue\"\nexport default component.exports","export * from \"-!../../../../../../迅雷下载/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../迅雷下载/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../迅雷下载/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../迅雷下载/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../迅雷下载/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../迅雷下载/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=0bf8410c&\"","var components = {\n  \"uni-popup\": function() {\n    return import(\n      /* webpackChunkName: \"components/uni-popup/uni-popup\" */ \"@/components/uni-popup/uni-popup.vue\"\n    )\n  },\n  \"ticket-type-description\": function() {\n    return import(\n      /* webpackChunkName: \"components/ticket-type-description/ticket-type-description\" */ \"@/components/ticket-type-description/ticket-type-description.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l1 = _vm.__map(_vm.categorys, function(category, __i0__) {\n    var l0 = _vm.__map(_vm.ticketTypes, function(ticketType, __i1__) {\n      var m0 = _vm.getRefundColor(ticketType)\n      return {\n        $orig: _vm.__get_orig(ticketType),\n        m0: m0\n      }\n    })\n\n    return {\n      $orig: _vm.__get_orig(category),\n      l0: l0\n    }\n  })\n\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.showNotice = true\n    }\n  }\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l1: l1\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../迅雷下载/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../迅雷下载/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../迅雷下载/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../迅雷下载/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../迅雷下载/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../迅雷下载/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../迅雷下载/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../迅雷下载/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../迅雷下载/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../迅雷下载/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n\r\nimport dayjs from 'dayjs';\r\nimport { mapState, mapMutations } from 'vuex';\r\nimport { mobileMixin } from './../../mixins/mobileMixin.js';\r\nimport ticketTypeService from './../../services/ticketTypeService.js';\r\nimport scenicService from './../../services/scenicService.js';\r\nimport settingService from './../../services/settingService.js';\r\nimport memberService from '@/services/memberService.js';\r\nimport scenicImage1 from '@/static/image/scenic1.jpg';\r\nimport scenicImage2 from '@/static/image/scenic2.jpg';\r\n\r\nconst today = dayjs();\r\nconst tomorrow = dayjs().addDays(1);\r\nexport default {\r\n\tmixins: [mobileMixin],\r\n\tprops: {\r\n\t\tpublicSaleFlag: {\r\n\t\t\ttype: [Boolean, String],\r\n\t\t\tdefault: true\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\thref: 'https://uniapp.dcloud.io/collocation/pages?id=easycom',\r\n\t\t\tswiper: {\r\n\t\t\t\tindicatorDots: true,\r\n\t\t\t\tautoplay: true,\r\n\t\t\t\tinterval: 2000,\r\n\t\t\t\tduration: 500\r\n\t\t\t},\r\n\t\t\tintroductionTitle: '景区特色  景区简介',\r\n\t\t\tcategorys: [\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 1,\r\n\t\t\t\t\tname: '景区门票',\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tid: 1,\r\n\t\t\t\t\t\t\tname: '欢乐票',\r\n\t\t\t\t\t\t\tprice: 12.34\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tid: 2,\r\n\t\t\t\t\t\t\tname: '开发票',\r\n\t\t\t\t\t\t\tprice: 23.45\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tid: 2,\r\n\t\t\t\t\tname: '餐饮',\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tid: 1,\r\n\t\t\t\t\t\t\tname: '河粉',\r\n\t\t\t\t\t\t\tprice: 5.5\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tid: 2,\r\n\t\t\t\t\t\t\tname: '米饭',\r\n\t\t\t\t\t\t\tprice: 3\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\timages: [scenicImage1, scenicImage2],\r\n\t\t\tscenic: {},\r\n\t\t\tticketTypes: [],\r\n\t\t\tselectedTicketType: {},\r\n\t\t\torigin: 'http://localhost:8080',\r\n\t\t\tshareImgUrl: '',\r\n\t\t\tgroundId: 1,\r\n\t\t\tshowDescription: false,\r\n\t\t\tscreenWidth: 0\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tswipeHeight() {\r\n\t\t\treturn (this.screenWidth / 640) * 360;\r\n\t\t}\r\n\t},\r\n\tasync onLoad() {\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\tawait memberService.loginFromMiniAsync();\r\n\r\n\t\tlet systemInfo = await uni.getSystemInfo();\r\n\t\tthis.screenWidth = systemInfo[1].screenWidth;\r\n\r\n\t\tawait settingService.getSettingsFromWeChatAsync();\r\n\r\n\t\tconst getTicketTypeTask = ticketTypeService\r\n\t\t\t.getTicketTypesForWeiXinSaleAsync({\r\n\t\t\t\tpublicSaleFlag: this.publicSaleFlag,\r\n\t\t\t\tgroundId: ''\r\n\t\t\t})\r\n\t\t\t.then(ticketTypes => {\r\n\t\t\t\tfor (const ticketType of ticketTypes) {\r\n\t\t\t\t\tticketType.travelDateText = this.getTravelDateText(ticketType);\r\n\t\t\t\t\tticketType.refundText = this.getRefundText(ticketType);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.ticketTypes = ticketTypes;\r\n\t\t\t});\r\n\r\n\t\tconst getScenicTask = scenicService\r\n\t\t\t.getScenicAsync()\r\n\t\t\t.then(scenic => {\r\n\t\t\t\tif (scenic.photoList && scenic.photoList.length > 0) {\r\n\t\t\t\t\tthis.images = scenic.photoList.map(p => p.url);\r\n\t\t\t\t\tthis.shareImgUrl = this.images[0];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (scenic.openTime && scenic.closeTime) {\r\n\t\t\t\t\tconst today = dayjs().toDateString();\r\n\t\t\t\t\tconst openTime = dayjs(`${today} ${scenic.openTime}:00`);\r\n\t\t\t\t\tconst closeTime = dayjs(`${today} ${scenic.closeTime}:00`);\r\n\t\t\t\t\tconst now = dayjs();\r\n\t\t\t\t\tif (now.isBefore(openTime)) {\r\n\t\t\t\t\t\tscenic.openText = `未开园 ${scenic.openTime}开园`;\r\n\t\t\t\t\t} else if (now.isBetween(openTime, closeTime)) {\r\n\t\t\t\t\t\tscenic.openText = `开放中 ${scenic.closeTime}闭园`;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tscenic.openText = `已闭园 明日${scenic.openTime}开园`;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.scenic = scenic;\r\n\t\t\t})\r\n\t\t\t.then(() => {\r\n\t\t\t\tlet shareUrl = `${this.origin}/tickettype/${this.publicSaleFlag}`;\r\n\t\t\t\tif (this.groundId) {\r\n\t\t\t\t\tshareUrl += `?groundId=${this.groundId}`;\r\n\t\t\t\t}\r\n\t\t\t\t// settingService.configWxJsApi().then(() => {\r\n\t\t\t\t// \tsettingService.configWxShareUrl(shareUrl, this.shareImgUrl);\r\n\t\t\t\t// });\r\n\t\t\t});\r\n\r\n\t\ttry {\r\n\t\t\tawait Promise.all([getTicketTypeTask, getScenicTask]);\r\n\t\t\tthis.pageLoaded = true;\r\n\t\t} finally {\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tonIntroduction() {\r\n\t\t\tthis.$refs.introductionPopup.open();\r\n\t\t},\r\n\t\tonBook() {\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: '../ticket/buy-ticket'\r\n\t\t\t});\r\n\t\t},\r\n\t\tonBuy(ticketType) {\r\n\t\t\tif (ticketType.shouldReadDescription) {\r\n\t\t\t\tthis.onShowDescription(ticketType);\r\n\t\t\t} else {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/ticket/buy-ticket?ticketTypeId=' + ticketType.id\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShowDescription(ticketType) {\r\n\t\t\tthis.selectedTicketType = ticketType;\r\n\t\t\tthis.showDescription = true;\r\n\t\t\t// this.$refs.itemExplainPopup.open();\r\n\t\t},\r\n\t\tgetTravelDateText(ticketType) {\r\n\t\t\tconst startTravelDate = dayjs(ticketType.startTravelDate);\r\n\t\t\tlet travelDateText = '';\r\n\t\t\tif (startTravelDate.isSameOrBefore(today)) {\r\n\t\t\t\ttravelDateText = '今日';\r\n\t\t\t} else if (startTravelDate.isSameOrBefore(tomorrow)) {\r\n\t\t\t\ttravelDateText = '明日';\r\n\t\t\t} else {\r\n\t\t\t\ttravelDateText = startTravelDate.format('MM月DD日');\r\n\t\t\t}\r\n\r\n\t\t\treturn `最早可订${travelDateText}票`;\r\n\t\t},\r\n\t\tgetRefundText(ticketType) {\r\n\t\t\tif (ticketType.allowRefund === false) {\r\n\t\t\t\treturn '不可退';\r\n\t\t\t}\r\n\r\n\t\t\treturn ticketType.refundLimited ? '有条件退' : '随时退';\r\n\t\t},\r\n\t\tgetRefundColor(ticketType) {\r\n\t\t\tif (ticketType.allowRefund === false) {\r\n\t\t\t\treturn '#ff2f39';\r\n\t\t\t}\r\n\t\t\treturn ticketType.refundLimited ? '#ffae13' : '#099fde';\r\n\t\t},\r\n\t\t...mapMutations(['setGroundId'])\r\n\t}\r\n};\r\n","import mod from \"-!../../../../../../迅雷下载/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../迅雷下载/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../迅雷下载/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../../../迅雷下载/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../迅雷下载/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../迅雷下载/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../迅雷下载/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../迅雷下载/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../迅雷下载/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../迅雷下载/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../迅雷下载/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../迅雷下载/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../../../迅雷下载/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../迅雷下载/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../迅雷下载/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../迅雷下载/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../迅雷下载/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../迅雷下载/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1586913238332\n      var cssReload = require(\"C:/迅雷下载/HBuilderX.2.6.5.20200314.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}